{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\NYALITI\\\\Downloads\\\\Projects\\\\vault5\\\\frontend\\\\src\\\\pages\\\\SignupPhone.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignupPhone = () => {\n  _s();\n  const {\n    type\n  } = useParams();\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    phone: '',\n    countryCode: '+254'\n  });\n  const [otp, setOtp] = useState('');\n  const [step, setStep] = useState('phone'); // 'phone' or 'otp'\n  const [loading, setLoading] = useState(false);\n  const [resendTimer, setResendTimer] = useState(0);\n  const [detectedCountry, setDetectedCountry] = useState('');\n  useEffect(() => {\n    // Auto-detect country from IP (simplified - in real app use a service)\n    detectCountry();\n  }, []);\n  useEffect(() => {\n    let timer;\n    if (resendTimer > 0) {\n      timer = setTimeout(() => setResendTimer(resendTimer - 1), 1000);\n    }\n    return () => clearTimeout(timer);\n  }, [resendTimer]);\n  const detectCountry = async () => {\n    try {\n      // In a real app, you'd use a service like ipapi.co or maxmind\n      // For now, we'll simulate based on common patterns\n      const response = await fetch('https://ipapi.co/json/');\n      const data = await response.json();\n      const countryCode = data.country_calling_code || '+254';\n      setDetectedCountry(data.country_name || 'Kenya');\n      setForm(prev => ({\n        ...prev,\n        countryCode\n      }));\n    } catch (error) {\n      // Fallback to Kenya\n      setForm(prev => ({\n        ...prev,\n        countryCode: '+254'\n      }));\n      setDetectedCountry('Kenya');\n    }\n  };\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSendOTP = async e => {\n    e.preventDefault();\n    if (!form.phone || form.phone.length < 9) {\n      alert('Please enter a valid phone number');\n      return;\n    }\n    setLoading(true);\n    try {\n      const fullPhone = form.countryCode + form.phone.replace(/^0+/, '');\n      await api.post('/api/auth/send-otp', {\n        phone: fullPhone\n      });\n      setStep('otp');\n      setResendTimer(60); // 60 seconds cooldown\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Send OTP error:', error);\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to send OTP. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleVerifyOTP = async e => {\n    e.preventDefault();\n    if (!otp || otp.length !== 6) {\n      alert('Please enter a valid 6-digit OTP');\n      return;\n    }\n    setLoading(true);\n    try {\n      const fullPhone = form.countryCode + form.phone.replace(/^0+/, '');\n      await api.post('/api/auth/verify-otp', {\n        phone: fullPhone,\n        otp\n      });\n\n      // Store phone in signup data\n      const signupData = JSON.parse(sessionStorage.getItem('signupData') || '{}');\n      signupData.phone = fullPhone;\n      sessionStorage.setItem('signupData', JSON.stringify(signupData));\n\n      // Proceed to next step\n      navigate(`/signup/${type}/details`);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Verify OTP error:', error);\n      alert(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Invalid OTP. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleResendOTP = async () => {\n    if (resendTimer > 0) return;\n    setLoading(true);\n    try {\n      const fullPhone = form.countryCode + form.phone.replace(/^0+/, '');\n      await api.post('/api/auth/send-otp', {\n        phone: fullPhone\n      });\n      setResendTimer(60);\n      alert('OTP sent successfully');\n    } catch (error) {\n      console.error('Resend OTP error:', error);\n      alert('Failed to resend OTP. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getAccountTypeTitle = () => {\n    switch (type) {\n      case 'personal':\n        return 'Personal Account';\n      case 'business':\n        return 'Business Account';\n      case 'developer':\n        return 'Developer Account';\n      default:\n        return 'Account';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md w-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-lg p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-900 mb-2\",\n            children: [getAccountTypeTitle(), \" Setup\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: step === 'phone' ? \"We'll send a one-time code to verify your number.\" : \"Enter the 6-digit code sent to your phone.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), step === 'phone' ? /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSendOTP,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"countryCode\",\n                value: form.countryCode,\n                onChange: handleChange,\n                className: \"px-3 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"+254\",\n                  children: \"\\uD83C\\uDDF0\\uD83C\\uDDEA +254\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"+255\",\n                  children: \"\\uD83C\\uDDF9\\uD83C\\uDDFF +255\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"+256\",\n                  children: \"\\uD83C\\uDDFA\\uD83C\\uDDEC +256\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"+250\",\n                  children: \"\\uD83C\\uDDF7\\uD83C\\uDDFC +250\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"+27\",\n                  children: \"\\uD83C\\uDDFF\\uD83C\\uDDE6 +27\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"+44\",\n                  children: \"\\uD83C\\uDDEC\\uD83C\\uDDE7 +44\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"+1\",\n                  children: \"\\uD83C\\uDDFA\\uD83C\\uDDF8 +1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                name: \"phone\",\n                value: form.phone,\n                onChange: handleChange,\n                className: \"flex-1 px-3 py-2 border-t border-r border-b border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                placeholder: \"712345678\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), detectedCountry && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: \"We pre-filled your country code based on your location \\u2014 change if incorrect.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading,\n            className: \"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed transition\",\n            children: loading ? 'Sending...' : 'Send Verification Code'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleVerifyOTP,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Verification Code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: otp,\n              onChange: e => setOtp(e.target.value.replace(/\\D/g, '').slice(0, 6)),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-2xl tracking-widest\",\n              placeholder: \"000000\",\n              maxLength: \"6\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-1 text-center\",\n              children: [\"Enter the 6-digit code sent to \", form.countryCode, \" \", form.phone]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading || otp.length !== 6,\n            className: \"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed transition\",\n            children: loading ? 'Verifying...' : 'Verify & Continue'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleResendOTP,\n              disabled: resendTimer > 0 || loading,\n              className: \"text-sm text-blue-600 hover:text-blue-800 disabled:text-gray-400 disabled:cursor-not-allowed\",\n              children: resendTimer > 0 ? `Resend code in ${resendTimer}s` : 'Resend code'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => step === 'phone' ? navigate(`/signup/${type}`) : setStep('phone'),\n            className: \"text-sm text-gray-500 hover:text-gray-700\",\n            children: [\"\\u2190 \", step === 'phone' ? 'Back to email' : 'Change phone number']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\n_s(SignupPhone, \"84xScVUX87xH7GgT/WY8asP8Og8=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = SignupPhone;\nexport default SignupPhone;\nvar _c;\n$RefreshReg$(_c, \"SignupPhone\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","api","jsxDEV","_jsxDEV","SignupPhone","_s","type","navigate","form","setForm","phone","countryCode","otp","setOtp","step","setStep","loading","setLoading","resendTimer","setResendTimer","detectedCountry","setDetectedCountry","detectCountry","timer","setTimeout","clearTimeout","response","fetch","data","json","country_calling_code","country_name","prev","error","handleChange","e","target","name","value","handleSendOTP","preventDefault","length","alert","fullPhone","replace","post","_error$response","_error$response$data","console","message","handleVerifyOTP","signupData","JSON","parse","sessionStorage","getItem","setItem","stringify","_error$response2","_error$response2$data","handleResendOTP","getAccountTypeTitle","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","placeholder","required","disabled","slice","maxLength","onClick","_c","$RefreshReg$"],"sources":["c:/Users/NYALITI/Downloads/Projects/vault5/frontend/src/pages/SignupPhone.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport api from '../services/api';\r\n\r\nconst SignupPhone = () => {\r\n  const { type } = useParams();\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({ phone: '', countryCode: '+254' });\r\n  const [otp, setOtp] = useState('');\r\n  const [step, setStep] = useState('phone'); // 'phone' or 'otp'\r\n  const [loading, setLoading] = useState(false);\r\n  const [resendTimer, setResendTimer] = useState(0);\r\n  const [detectedCountry, setDetectedCountry] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Auto-detect country from IP (simplified - in real app use a service)\r\n    detectCountry();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let timer;\r\n    if (resendTimer > 0) {\r\n      timer = setTimeout(() => setResendTimer(resendTimer - 1), 1000);\r\n    }\r\n    return () => clearTimeout(timer);\r\n  }, [resendTimer]);\r\n\r\n  const detectCountry = async () => {\r\n    try {\r\n      // In a real app, you'd use a service like ipapi.co or maxmind\r\n      // For now, we'll simulate based on common patterns\r\n      const response = await fetch('https://ipapi.co/json/');\r\n      const data = await response.json();\r\n      const countryCode = data.country_calling_code || '+254';\r\n      setDetectedCountry(data.country_name || 'Kenya');\r\n      setForm(prev => ({ ...prev, countryCode }));\r\n    } catch (error) {\r\n      // Fallback to Kenya\r\n      setForm(prev => ({ ...prev, countryCode: '+254' }));\r\n      setDetectedCountry('Kenya');\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSendOTP = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!form.phone || form.phone.length < 9) {\r\n      alert('Please enter a valid phone number');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const fullPhone = form.countryCode + form.phone.replace(/^0+/, '');\r\n      await api.post('/api/auth/send-otp', { phone: fullPhone });\r\n      setStep('otp');\r\n      setResendTimer(60); // 60 seconds cooldown\r\n    } catch (error) {\r\n      console.error('Send OTP error:', error);\r\n      alert(error.response?.data?.message || 'Failed to send OTP. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleVerifyOTP = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!otp || otp.length !== 6) {\r\n      alert('Please enter a valid 6-digit OTP');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const fullPhone = form.countryCode + form.phone.replace(/^0+/, '');\r\n      await api.post('/api/auth/verify-otp', { phone: fullPhone, otp });\r\n\r\n      // Store phone in signup data\r\n      const signupData = JSON.parse(sessionStorage.getItem('signupData') || '{}');\r\n      signupData.phone = fullPhone;\r\n      sessionStorage.setItem('signupData', JSON.stringify(signupData));\r\n\r\n      // Proceed to next step\r\n      navigate(`/signup/${type}/details`);\r\n\r\n    } catch (error) {\r\n      console.error('Verify OTP error:', error);\r\n      alert(error.response?.data?.message || 'Invalid OTP. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleResendOTP = async () => {\r\n    if (resendTimer > 0) return;\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const fullPhone = form.countryCode + form.phone.replace(/^0+/, '');\r\n      await api.post('/api/auth/send-otp', { phone: fullPhone });\r\n      setResendTimer(60);\r\n      alert('OTP sent successfully');\r\n    } catch (error) {\r\n      console.error('Resend OTP error:', error);\r\n      alert('Failed to resend OTP. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getAccountTypeTitle = () => {\r\n    switch (type) {\r\n      case 'personal': return 'Personal Account';\r\n      case 'business': return 'Business Account';\r\n      case 'developer': return 'Developer Account';\r\n      default: return 'Account';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\">\r\n      <div className=\"max-w-md w-full\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-8\">\r\n          <div className=\"text-center mb-8\">\r\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n              {getAccountTypeTitle()} Setup\r\n            </h1>\r\n            <p className=\"text-gray-600\">\r\n              {step === 'phone'\r\n                ? \"We'll send a one-time code to verify your number.\"\r\n                : \"Enter the 6-digit code sent to your phone.\"\r\n              }\r\n            </p>\r\n          </div>\r\n\r\n          {step === 'phone' ? (\r\n            <form onSubmit={handleSendOTP} className=\"space-y-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Phone Number\r\n                </label>\r\n                <div className=\"flex\">\r\n                  <select\r\n                    name=\"countryCode\"\r\n                    value={form.countryCode}\r\n                    onChange={handleChange}\r\n                    className=\"px-3 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50\"\r\n                  >\r\n                    <option value=\"+254\">🇰🇪 +254</option>\r\n                    <option value=\"+255\">🇹🇿 +255</option>\r\n                    <option value=\"+256\">🇺🇬 +256</option>\r\n                    <option value=\"+250\">🇷🇼 +250</option>\r\n                    <option value=\"+27\">🇿🇦 +27</option>\r\n                    <option value=\"+44\">🇬🇧 +44</option>\r\n                    <option value=\"+1\">🇺🇸 +1</option>\r\n                  </select>\r\n                  <input\r\n                    type=\"tel\"\r\n                    name=\"phone\"\r\n                    value={form.phone}\r\n                    onChange={handleChange}\r\n                    className=\"flex-1 px-3 py-2 border-t border-r border-b border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"712345678\"\r\n                    required\r\n                  />\r\n                </div>\r\n                {detectedCountry && (\r\n                  <p className=\"text-xs text-gray-500 mt-1\">\r\n                    We pre-filled your country code based on your location — change if incorrect.\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed transition\"\r\n              >\r\n                {loading ? 'Sending...' : 'Send Verification Code'}\r\n              </button>\r\n            </form>\r\n          ) : (\r\n            <form onSubmit={handleVerifyOTP} className=\"space-y-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Verification Code\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={otp}\r\n                  onChange={(e) => setOtp(e.target.value.replace(/\\D/g, '').slice(0, 6))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-2xl tracking-widest\"\r\n                  placeholder=\"000000\"\r\n                  maxLength=\"6\"\r\n                  required\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-1 text-center\">\r\n                  Enter the 6-digit code sent to {form.countryCode} {form.phone}\r\n                </p>\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading || otp.length !== 6}\r\n                className=\"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed transition\"\r\n              >\r\n                {loading ? 'Verifying...' : 'Verify & Continue'}\r\n              </button>\r\n\r\n              <div className=\"text-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleResendOTP}\r\n                  disabled={resendTimer > 0 || loading}\r\n                  className=\"text-sm text-blue-600 hover:text-blue-800 disabled:text-gray-400 disabled:cursor-not-allowed\"\r\n                >\r\n                  {resendTimer > 0 ? `Resend code in ${resendTimer}s` : 'Resend code'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          )}\r\n\r\n          <div className=\"mt-6 text-center\">\r\n            <button\r\n              onClick={() => step === 'phone' ? navigate(`/signup/${type}`) : setStep('phone')}\r\n              className=\"text-sm text-gray-500 hover:text-gray-700\"\r\n            >\r\n              ← {step === 'phone' ? 'Back to email' : 'Change phone number'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupPhone;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}